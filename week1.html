<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 1: Interface Lab</title>
    <style>
        body {
            margin: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background-color: #2c3e50;
            color: #ecf0f1;
            font-family: 'Segoe UI', sans-serif;
            overflow: hidden;
        }

        h1 { margin-bottom: 5px; font-weight: 300; letter-spacing: 2px; }
        p { color: #bdc3c7; margin-bottom: 40px; font-size: 0.9rem; }

        /* 實驗台區域 */
        .lab-bench {
            background: rgba(0,0,0,0.2);
            padding: 40px;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
        }

        /* 鎖 (System) */
        .lock-container {
            width: 120px;
            height: 160px;
            background: #f39c12;
            border-radius: 15px 15px 0 0;
            position: relative;
            margin-bottom: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 10px 0 #d35400;
            transition: transform 0.1s;
        }

        .shackle {
            position: absolute;
            top: -60px;
            width: 80px;
            height: 80px;
            border: 15px solid #bdc3c7;
            border-bottom: none;
            border-radius: 60px 60px 0 0;
            z-index: -1;
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .lock-hole {
            width: 20px;
            height: 40px;
            background: #2c3e50;
            border-radius: 10px;
        }

        /* 錯誤震動動畫 */
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-10px) rotate(-5deg); }
            50% { transform: translateX(10px) rotate(5deg); }
            75% { transform: translateX(-10px) rotate(-5deg); }
            100% { transform: translateX(0); }
        }

        .lock-container.error {
            animation: shake 0.4s ease-in-out;
            background: #e74c3c; /* 變紅 */
            box-shadow: 0 10px 0 #c0392b;
        }

        .lock-container.success .shackle {
            transform: translateY(-30px) rotateY(20deg); /* 彈開 */
            border-color: #2ecc71;
        }
        .lock-container.success {
            background: #2ecc71;
            box-shadow: 0 10px 0 #27ae60;
        }

        /* 鑰匙架 (Keys) */
        .keys-rack {
            display: flex;
            gap: 20px;
        }

        .key-btn {
            background: none;
            border: none;
            cursor: pointer;
            transition: transform 0.2s;
            padding: 10px;
            border-radius: 10px;
            background: rgba(255,255,255,0.05);
        }

        .key-btn:hover {
            background: rgba(255,255,255,0.15);
            transform: translateY(-5px);
        }

        .key-btn:active {
            transform: scale(0.95);
        }

        /* 狀態文字 */
        #status {
            height: 30px;
            margin-top: 20px;
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.3s;
        }
    </style>
</head>
<body>

    <h1>Interface Laboratory</h1>
    <p>測試不同齒痕 (Interface)，找出能開啟系統 (System) 的那把鑰匙</p>

    <div class="lab-bench">
        <div class="lock-container" id="lock">
            <div class="shackle"></div>
            <div class="lock-hole"></div>
        </div>

        <div class="keys-rack">
            <button class="key-btn" onclick="tryKey('flat')">
                <svg width="60" height="120" viewBox="0 0 60 120">
                    <circle cx="30" cy="20" r="15" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="4"/>
                    <rect x="25" y="35" width="10" height="70" fill="#ecf0f1"/>
                    <rect x="35" y="60" width="10" height="10" fill="#ecf0f1"/>
                    <rect x="35" y="80" width="10" height="10" fill="#ecf0f1"/>
                </svg>
            </button>

            <button class="key-btn" onclick="tryKey('sharp')">
                <svg width="60" height="120" viewBox="0 0 60 120">
                    <circle cx="30" cy="20" r="15" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="4"/>
                    <rect x="25" y="35" width="10" height="70" fill="#ecf0f1"/>
                    <path d="M35 50 L50 60 L35 70 Z" fill="#ecf0f1"/>
                    <path d="M35 75 L50 85 L35 95 Z" fill="#ecf0f1"/>
                </svg>
            </button>

            <button class="key-btn" onclick="tryKey('complex')">
                <svg width="60" height="120" viewBox="0 0 60 120">
                    <circle cx="30" cy="20" r="15" fill="##ecf0f1" stroke="#f39c12" stroke-width="4"/>
                    <rect x="25" y="35" width="10" height="70" fill="#ecf0f1"/>
                    <rect x="35" y="55" width="12" height="8" fill="#ecf0f1"/>
                    <rect x="35" y="70" width="8" height="8" fill="#ecf0f1"/>
                    <rect x="35" y="85" width="12" height="8" fill="#ecf0f1"/>
                </svg>
            </button>
        </div>
        
        <div id="status">Testing Interface...</div>
    </div>

    <script>
        const lock = document.getElementById('lock');
        const status = document.getElementById('status');
        let isLocked = true;

        function tryKey(type) {
            if (!isLocked) return; // 已經開了就不用試了

            // 重置狀態
            lock.classList.remove('error');
            status.style.opacity = '1';
            
            if (type === 'complex') {
                // Correct Key
                status.innerText = "Interface Matched! System Unlocked.";
                status.style.color = "#2ecc71";
                lock.classList.add('success');
                isLocked = false;
            } else {
                // Wrong Key
                status.innerText = "Interface Mismatch. Access Denied.";
                status.style.color = "#e74c3c";
                
                // 觸發重繪以重啟動畫
                void lock.offsetWidth; 
                lock.classList.add('error');
                
                // 震動回饋 (如果手機支援)
                if (navigator.vibrate) navigator.vibrate(200);
            }
        }
    </script>
</body>
</html>
